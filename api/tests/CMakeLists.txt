cmake_minimum_required(VERSION 3.10)

# set the project name
project(api-tests)

enable_testing()

file(
        COPY ${CMAKE_CURRENT_SOURCE_DIR}/stress_test_scripts/credspec_stress_test.txt
        DESTINATION ${CMAKE_CURRENT_BINARY_DIR}
        FILE_PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
)
file(
        COPY ${CMAKE_CURRENT_SOURCE_DIR}/contoso_webapp01.json
        DESTINATION ${CMAKE_CURRENT_BINARY_DIR}/../../
        FILE_PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
)
file(
        COPY ${CMAKE_CURRENT_SOURCE_DIR}/credentials_fetcher_kubeconfig.json
        DESTINATION ${CMAKE_CURRENT_BINARY_DIR}/../../
        FILE_PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
)
file(
        COPY ${CMAKE_CURRENT_SOURCE_DIR}/contoso_webapp03.json
        DESTINATION ${CMAKE_CURRENT_BINARY_DIR}/../../
        FILE_PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
)
file(
        COPY ${CMAKE_CURRENT_SOURCE_DIR}/contosoeks_webapp01.json
        DESTINATION ${CMAKE_CURRENT_BINARY_DIR}/../../
        FILE_PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
)
file(
        COPY ${CMAKE_CURRENT_SOURCE_DIR}/secret1.yaml
        DESTINATION ${CMAKE_CURRENT_BINARY_DIR}/../../
        FILE_PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
)
file(
        COPY ${CMAKE_CURRENT_SOURCE_DIR}/secret2.yaml
        DESTINATION ${CMAKE_CURRENT_BINARY_DIR}/../../
        FILE_PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
)
file(
        COPY ${CMAKE_CURRENT_SOURCE_DIR}/pod_with_secret.yaml
        DESTINATION ${CMAKE_CURRENT_BINARY_DIR}/../../
        FILE_PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
)
